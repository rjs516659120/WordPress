(function(b){var c=-1;var a=function(d,e){this.itemsContainerSelector=e.container;this.itemSelector=e.item;this.nextSelector=e.next;this.paginationSelector=e.pagination;this.$scrollContainer=d;this.$container=(window===d.get(0)?b(document):d);this.defaultDelay=e.delay;this.negativeMargin=e.negativeMargin;this.nextUrl=null;this.isBound=false;this.isPaused=false;this.isInitialized=false;this.jsXhr=false;this.listeners={next:new IASCallbacks(),load:new IASCallbacks(),loaded:new IASCallbacks(),render:new IASCallbacks(),rendered:new IASCallbacks(),scroll:new IASCallbacks(),noneLeft:new IASCallbacks(),ready:new IASCallbacks()};this.extensions=[];this.scrollHandler=function(){if(!this.isBound||this.isPaused){return}var g=this.getCurrentScrollOffset(this.$scrollContainer),f=this.getScrollThreshold();if(c==f){return}this.fire("scroll",[g,f]);if(g>=f){this.next()}};this.getItemsContainer=function(){return b(this.itemsContainerSelector,this.$container)};this.getLastItem=function(){return b(this.itemSelector,this.getItemsContainer().get(0)).last()};this.getFirstItem=function(){return b(this.itemSelector,this.getItemsContainer().get(0)).first()};this.getScrollThreshold=function(g){var f;g=g||this.negativeMargin;g=(g>=0?g*-1:g);f=this.getLastItem();if(0===f.length){return c}return(f.offset().top+f.height()+g)};this.getCurrentScrollOffset=function(h){var g=0,f=h.height();if(window===h.get(0)){g=h.scrollTop()}else{g=h.offset().top}if(navigator.platform.indexOf("iPhone")!=-1||navigator.platform.indexOf("iPod")!=-1){f+=80}return(g+f)};this.getNextUrl=function(f){f=f||this.$container;return b(this.nextSelector,f).last().attr("href")};this.load=function(g,m,h){var n=this,k,j=[],i=+new Date(),f;h=h||this.defaultDelay;var l={url:g};n.fire("load",[l]);this.jsXhr=b.get(l.url,null,b.proxy(function(o){k=b(this.itemsContainerSelector,o).eq(0);if(0===k.length){k=b(o).filter(this.itemsContainerSelector).eq(0)}if(k){k.find(this.itemSelector).each(function(){j.push(this)})}n.fire("loaded",[o,j]);if(m){f=+new Date()-i;if(f<h){setTimeout(function(){m.call(n,o,j)},h-f)}else{m.call(n,o,j)}}},n),"html");return this.jsXhr};this.render=function(g,k){var f=this,h=this.getLastItem(),i=0;var j=this.fire("render",[g]);j.done(function(){b(g).hide();h.after(g);b(g).fadeIn(400,function(){if(++i<g.length){return}f.fire("rendered",[g]);if(k){k()}})});j.fail(function(){if(k){k()}})};this.hidePagination=function(){if(this.paginationSelector){b(this.paginationSelector,this.$container).hide()}};this.restorePagination=function(){if(this.paginationSelector){b(this.paginationSelector,this.$container).show()}};this.throttle=function(j,g){var h=0,i,f;i=function(){var l=this,k=arguments,n=+new Date()-h;function m(){h=+new Date();j.apply(l,k)}if(!f){m()}else{clearTimeout(f)}if(n>g){m()}else{f=setTimeout(m,g)}};if(b.guid){i.guid=j.guid=j.guid||b.guid++}return i};this.fire=function(g,f){return this.listeners[g].fireWith(this,f)};this.pause=function(){this.isPaused=true};this.resume=function(){this.isPaused=false};return this};a.prototype.initialize=function(){if(this.isInitialized){return false}var f=(!!("onscroll" in this.$scrollContainer.get(0))),e=this.getCurrentScrollOffset(this.$scrollContainer),d=this.getScrollThreshold();if(!f){return false}this.hidePagination();this.bind();this.fire("ready");this.nextUrl=this.getNextUrl();if(e>=d){this.next();this.one("rendered",function(){this.isInitialized=true})}else{this.isInitialized=true}return this};a.prototype.reinitialize=function(){this.isInitialized=false;this.unbind();this.initialize()};a.prototype.bind=function(){if(this.isBound){return}this.$scrollContainer.on("scroll",b.proxy(this.throttle(this.scrollHandler,150),this));for(var e=0,d=this.extensions.length;e<d;e++){this.extensions[e].bind(this)}this.isBound=true;this.resume()};a.prototype.unbind=function(){if(!this.isBound){return}this.$scrollContainer.off("scroll",this.scrollHandler);for(var e=0,d=this.extensions.length;e<d;e++){if(typeof this.extensions[e]["unbind"]!="undefined"){this.extensions[e].unbind(this)}}this.isBound=false};a.prototype.destroy=function(){try{this.jsXhr.abort()}catch(d){}this.unbind();this.$scrollContainer.data("ias",null)};a.prototype.on=function(e,f,d){if(typeof this.listeners[e]=="undefined"){throw new Error('There is no event called "'+e+'"')}d=d||0;this.listeners[e].add(b.proxy(f,this),d);return this};a.prototype.one=function(f,g){var d=this;var e=function(){d.off(f,g);d.off(f,e)};this.on(f,g);this.on(f,e);return this};a.prototype.off=function(d,e){if(typeof this.listeners[d]=="undefined"){throw new Error('There is no event called "'+d+'"')}this.listeners[d].remove(e);return this};a.prototype.next=function(){var e=this.nextUrl,d=this;this.pause();if(!e){this.fire("noneLeft",[this.getLastItem()]);this.listeners.noneLeft.disable();d.resume();return false}var f=this.fire("next",[e]);f.done(function(){d.load(e,function(h,g){d.render(g,function(){d.nextUrl=d.getNextUrl(h);d.resume()})})});f.fail(function(){d.resume()});return true};a.prototype.extension=function(d){if(typeof d.bind=="undefined"){throw new Error('Extension doesn\'t have required method "bind"')}if(typeof d.initialize!="undefined"){d.initialize(this)}this.extensions.push(d);if(this.isInitialized){this.reinitialize()}return this};b.ias=function(d){var e=b(window);return e.ias.apply(e,arguments)};b.fn.ias=function(f){var e=Array.prototype.slice.call(arguments);var d=this;this.each(function(){var i=b(this),g=i.data("ias"),h=b.extend({},b.fn.ias.defaults,i.data(),typeof f=="object"&&f);if(!g){i.data("ias",(g=new a(i,h)));b(document).ready(b.proxy(g.initialize,g))}if(typeof f==="string"){if(typeof g[f]!=="function"){throw new Error('There is no method called "'+f+'"')}e.shift();g[f].apply(g,e)}d=g});return d};b.fn.ias.defaults={item:".item",container:".listing",next:".next",pagination:false,delay:600,negativeMargin:10}})(jQuery);var IASCallbacks=function(){this.list=[];this.fireStack=[];this.isFiring=false;this.isDisabled=false;this.fire=function(d){var f=d[0],c=d[1],b=d[2];this.isFiring=true;for(var e=0,a=this.list.length;e<a;e++){if(this.list[e]!=undefined){if(false===this.list[e].fn.apply(f,b)){c.reject();break}}}this.isFiring=false;c.resolve();if(this.fireStack.length){this.fire(this.fireStack.shift())}};this.inList=function(d,a){a=a||0;for(var b=a,c=this.list.length;b<c;b++){if(this.list[b].fn===d||(d.guid&&this.list[b].fn.guid&&d.guid===this.list[b].fn.guid)){return b}}return -1};return this};IASCallbacks.prototype={add:function(e,b){var d={fn:e,priority:b};b=b||0;for(var a=0,c=this.list.length;a<c;a++){if(b>this.list[a].priority){this.list.splice(a,0,d);return this}}this.list.push(d);return this},remove:function(b){var a=0;while((a=this.inList(b,a))>-1){this.list.splice(a,1)}return this},has:function(a){return(this.inList(a)>-1)},fireWith:function(c,b){var a=jQuery.Deferred();if(this.isDisabled){return a.reject()}b=b||[];b=[c,a,b.slice?b.slice():b];if(this.isFiring){this.fireStack.push(b)}else{this.fire(b)}return a},disable:function(){this.isDisabled=true},enable:function(){this.isDisabled=false}};var IASSpinnerExtension=function(a){a=jQuery.extend({},this.defaults,a);this.ias=null;this.uid=new Date().getTime();this.src=a.src;this.html=(a.html).replace("{src}",this.src);this.showSpinner=function(){var c=this.getSpinner()||this.createSpinner(),b=this.ias.getLastItem();b.after(c);c.fadeIn()};this.showSpinnerBefore=function(){var c=this.getSpinner()||this.createSpinner(),b=this.ias.getFirstItem();b.before(c);c.fadeIn()};this.removeSpinner=function(){if(this.hasSpinner()){this.getSpinner().remove()}};this.getSpinner=function(){var b=jQuery("#ias_spinner_"+this.uid);if(b.length>0){return b}return false};this.hasSpinner=function(){var b=jQuery("#ias_spinner_"+this.uid);return(b.length>0)};this.createSpinner=function(){var b=jQuery(this.html).attr("id","ias_spinner_"+this.uid);b.hide();return b};return this};IASSpinnerExtension.prototype.bind=function(b){this.ias=b;b.on("next",jQuery.proxy(this.showSpinner,this));b.on("render",jQuery.proxy(this.removeSpinner,this));try{b.on("prev",jQuery.proxy(this.showSpinnerBefore,this))}catch(a){}};IASSpinnerExtension.prototype.unbind=function(b){b.off("next",this.showSpinner);b.off("render",this.removeSpinner);try{b.off("prev",this.showSpinnerBefore)}catch(a){}};IASSpinnerExtension.prototype.defaults={src:"data:image/gif;base64,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",html:'<div class="ias-spinner" style="text-align: center;"><img src="{src}"/></div>'};var IASNoneLeftExtension=function(a){a=jQuery.extend({},this.defaults,a);this.ias=null;this.uid=(new Date()).getTime();this.html=(a.html).replace("{text}",a.text);this.showNoneLeft=function(){var b=jQuery(this.html).attr("id","ias_noneleft_"+this.uid),c=this.ias.getLastItem();c.after(b);b.fadeIn()};return this};IASNoneLeftExtension.prototype.bind=function(a){this.ias=a;a.on("noneLeft",jQuery.proxy(this.showNoneLeft,this))};IASNoneLeftExtension.prototype.unbind=function(a){a.off("noneLeft",this.showNoneLeft)};IASNoneLeftExtension.prototype.defaults={text:"You reached the end.",html:'<div class="ias-noneleft" style="text-align: center;">{text}</div>'};var IASTriggerExtension=function(a){a=jQuery.extend({},this.defaults,a);this.ias=null;this.html=(a.html).replace("{text}",a.text);this.htmlPrev=(a.htmlPrev).replace("{text}",a.textPrev);this.enabled=true;this.count=0;this.offset=a.offset;this.$triggerNext=null;this.$triggerPrev=null;this.showTriggerNext=function(){if(!this.enabled){return true}if(false===this.offset||++this.count<this.offset){return true}var b=this.$triggerNext||(this.$triggerNext=this.createTrigger(this.next,this.html));var c=this.ias.getLastItem();c.after(b);b.fadeIn();return false};this.showTriggerPrev=function(){if(!this.enabled){return true}var b=this.$triggerPrev||(this.$triggerPrev=this.createTrigger(this.prev,this.htmlPrev));var c=this.ias.getFirstItem();c.before(b);b.fadeIn();return false};this.onRendered=function(){this.enabled=true};this.createTrigger=function(e,d){var c=(new Date()).getTime(),b;d=d||this.html;b=jQuery(d).attr("id","ias_trigger_"+c);b.hide();b.on("click",jQuery.proxy(e,this));return b};return this};IASTriggerExtension.prototype.bind=function(c){var a=this;this.ias=c;c.on("next",jQuery.proxy(this.showTriggerNext,this),this.priority);c.on("rendered",jQuery.proxy(this.onRendered,this),this.priority);try{c.on("prev",jQuery.proxy(this.showTriggerPrev,this),this.priority)}catch(b){}};IASTriggerExtension.prototype.unbind=function(b){b.off("next",this.showTriggerNext);b.off("rendered",this.onRendered);try{b.off("prev",this.showTriggerPrev)}catch(a){}};IASTriggerExtension.prototype.next=function(){this.enabled=false;this.ias.pause();if(this.$triggerNext){this.$triggerNext.remove();this.$triggerNext=null}this.ias.next()};IASTriggerExtension.prototype.prev=function(){this.enabled=false;this.ias.pause();if(this.$triggerPrev){this.$triggerPrev.remove();this.$triggerPrev=null}this.ias.prev()};IASTriggerExtension.prototype.defaults={text:"Load more items",html:'<div class="ias-trigger ias-trigger-next" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',textPrev:"Load previous items",htmlPrev:'<div class="ias-trigger ias-trigger-prev" style="text-align: center; cursor: pointer;"><a>{text}</a></div>',offset:0};IASTriggerExtension.prototype.priority=1000;
var ias=jQuery.ias({container:".posts-ul",item:".pl",pagination:".page-nav",next:".page-nav a.next"});ias.extension(new IASTriggerExtension({text:'<div class="load-more">'+paged_var.more+"</div>",offset:paged_var.ajax_num}));ias.extension(new IASSpinnerExtension({html:'<div class="load-more"><img src="{src}"/> '+paged_var.loading+"</div>"}));ias.extension(new IASNoneLeftExtension({text:'<div class="load-more">'+paged_var.last+"</div>"}));